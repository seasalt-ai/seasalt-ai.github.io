var k="9e4cef8823b94d019b954db6f4328a93",p=null,c=!1;function A(){var a=document.getElementById("sui-webchat"),r=document.getElementById("sui-webchat-btn");if(a){if(!p){a.style.display="none",r.classList.remove("close"),c=!1;var u=window.innerWidth<=460;document.querySelectorAll(".chat-button").forEach(function(o){o.className="chat-button",u&&o.classList.add("show")}),r.className="",u&&r.classList.add("show");return}var n="https://chat.seasalt.ai/chat/survey/csat?id="+k+"&conversation_id="+p;a.src=n,a.dataset.fromSurvey="true"}}function g(){c=!1;var a=window.innerWidth<=460,r="";const u=["chat-dev.seasalt.ai","chat-staging.seasalt.ai","chat.seasalt.ai"];window.addEventListener("message",function(e){u.some(s=>e.origin.includes(s))&&(e.data?.type==="SEACHAT_CONVERSATION_ID"&&(p=e.data.conversation_id),e.data?.type==="CLOSE_IFRAME_AFTER_SURVEY"&&setTimeout(()=>{v()},3e3))});var n=document.querySelector("#sui-webchat-btn"),o=document.querySelector("#sui-widget-btn"),i=document.querySelector("#sui-webchat"),y=document.querySelector("#sui-Voice-btn");function v(){i.style.display="none",i.src="https://chat.seasalt.ai/chat/9e4cef8823b94d019b954db6f4328a93",n.classList.remove("close"),n.classList.remove("show-iframe"),o.classList.remove("close"),c=!1,h(),b()}function f(){var e=document.querySelectorAll(".chat-button");e.forEach(function(s,t){var l;a?l=88:l=20;var m=68;s.style.bottom=l+(t+1)*m+"px"})}f(),b();var d=!1;function h(){document.querySelectorAll(".chat-button").forEach(function(e){e.className="chat-button",c?e.classList.add("show-iframe"):a&&d&&e.classList.add("show")}),f(),n.className="",c?(n.classList.add("show-iframe"),n.classList.add("close")):a&&d&&n.classList.add("show"),a&&(o.classList.toggle("close",d),o.style.display="block")}function b(){var e=Array.prototype.slice.call(document.querySelectorAll(".chat-button")),s=[n].concat(e);window.innerWidth<=460&&s.length===1&&(o.style.display="none",s[0].style.display="block",s[0].style.bottom="20px")}function _(){var e=window.innerWidth<=460;e!==a&&(a=e,o.classList.remove("close"),w(),f()),b()}window.addEventListener("resize",_);var S=function(e){var s=e.currentTarget.classList.contains("close"),t=i&&i.style.display==="block";if(i?.dataset.fromSurvey==="true"&&s&&t){v(),delete i.dataset.fromSurvey;return}if(s&&t){setTimeout(()=>{A()},200);return}i.src!=="https://chat.seasalt.ai/chat/9e4cef8823b94d019b954db6f4328a93"&&(i.src="https://chat.seasalt.ai/chat/9e4cef8823b94d019b954db6f4328a93"),i.style.display!=="block"?(i.style.display="block",n.classList.add("close")):(i.style.display="none",n.classList.remove("close"),a&&(d=!0,o.classList.add("close"))),c=!c,h()};function w(){y&&r&&y.addEventListener("click",function(){window.location.href=r}),n.addEventListener("click",S)}w(),o.addEventListener("click",function(){a?(d=!d,c=!1,i.style.display="none",n.classList.remove("close"),h()):(a=!a,f(),o.classList.toggle("close",a),h())}),document.querySelectorAll('button[id^="sui-"]').forEach(function(e,s){var t=[{id:"57cd3b97-f606-44ba-ba4f-9f8bdcfaddff",channel_type:"Line",channel_url:"https://lin.ee/fFNydh0a"},{id:"2285fc57-0069-407c-b391-2ad3746f07b8",channel_type:"Instagram",channel_url:"https://www.instagram.com/seasalt.ai/"},{id:"25946b1a-79a2-47ce-b08b-4c9d5154a15a",channel_type:"Messenger",channel_url:"https://mobile.facebook.com/profile.php?id=106953261045343"},{id:"2e63b903-141e-4a47-acb7-0a191b18d725",channel_type:"WhatsApp",channel_url:"https://api.whatsapp.com/send/?phone=%2B14252987474&amp;text&amp;type=phone_number&amp;app_absent=0"},{id:"f3040b06-34dc-47c5-bfb3-8cbf9c9022d3",channel_type:"Voice",channel_url:'<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSe1Z3Yq1u4w-eMZvCYdLoexkFRiJNirN7Ksr6I_et15DJBobA/viewform?embedded=true" width="600" height="500" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>'}].find(function(l){return e.id==="sui-"+l.channel_type+"-btn"});t&&e.addEventListener("click",function(){t.channel_url.startsWith("<iframe")?E(t):window.open(t.channel_url,"_blank")})});function E(e){var s=document.querySelector("#sui-Voice-btn");if(s){var t=document.querySelector("#sui-call-form");t||(t=document.createElement("div"),t.id="sui-call-form");var l=e.channel_url.match(/<iframe.*?src="(.*?)"/),m=l?l[1]:null;if(m){t.innerHTML=e.channel_url,document.body.appendChild(t),r=m;var C=getComputedStyle(s).bottom;t.style.bottom=C,t.style.display=t.style.display==="block"?"none":"block"}else window.open(e.channel_url,"_blank")}}const L=()=>{const e=document.querySelector("#sui-widget-tooltip");e.style.display="none"};document.querySelector("#sui-widget-tooltip-close").addEventListener("click",L),(()=>{setTimeout(()=>{L()},2e3)})()}document.readyState!=="loading"?g():document.addEventListener("DOMContentLoaded",function(){g()});

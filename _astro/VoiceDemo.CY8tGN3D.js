import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.DtoOFyvK.js";import{g as k}from"./helpers.s_tOWr5i.js";import{m}from"./proxy.BltzAYqp.js";import{P}from"./pause.BDj1NBRF.js";import{P as R}from"./play.C6j7cSiy.js";import"./createLucideIcon.BY18stqz.js";const V=({lang:y})=>{const[f,w]=c.useState(!1),[j,b]=c.useState(null),[l,n]=c.useState(null),[v,N]=c.useState({}),[D,x]=c.useState({}),d=c.useRef({});c.useEffect(()=>{(async()=>{try{const{t:e}=await k(y);b(()=>e),w(!0)}catch(e){console.error("Failed to load translations:",e),w(!0)}})()},[y]);const r=(i,e=i)=>j&&j(i)||e,S=c.useMemo(()=>[{id:"restaurant",title:r("seavoice.components.voiceDemo.demos.restaurant.title","Restaurant Reservation"),description:r("seavoice.components.voiceDemo.demos.restaurant.description","AI handling restaurant booking"),audioUrl:"/seavoice-recordings/Restaurant-reservation-booking.m4a",image:"/demo-images/restaurant.png"},{id:"insurance",title:r("seavoice.components.voiceDemo.demos.insurance.title","Insurance Verification"),description:r("seavoice.components.voiceDemo.demos.insurance.description","AI verifying insurance claims"),audioUrl:"/seavoice-recordings/Insurance-verification-call.m4a",image:"/demo-images/insurance.png"},{id:"tech-support",title:r("seavoice.components.voiceDemo.demos.techSupport.title","Tech Support"),description:r("seavoice.components.voiceDemo.demos.techSupport.description","AI providing technical assistance"),audioUrl:"/seavoice-recordings/Tech-support.m4a",image:"/demo-images/technical.png"},{id:"sales-lead",title:r("seavoice.components.voiceDemo.demos.salesLead.title","Sales Lead Qualification"),description:r("seavoice.components.voiceDemo.demos.salesLead.description","AI qualifying sales prospects"),audioUrl:"/seavoice-recordings/Sales-lead-qualification.m4a",image:"/demo-images/ecommerce.png"},{id:"realestate",title:r("seavoice.components.voiceDemo.demos.realEstate.title","Real Estate Inquiry"),description:r("seavoice.components.voiceDemo.demos.realEstate.description","AI handling property inquiries"),audioUrl:"/seavoice-recordings/Real-estate-inquiry-handling.m4a",image:"/demo-images/realestate.png"},{id:"donation",title:r("seavoice.components.voiceDemo.demos.donation.title","Donation Campaign"),description:r("seavoice.components.voiceDemo.demos.donation.description","AI managing donation outreach"),audioUrl:"/seavoice-recordings/Donation-campaign-outreach.m4a",image:"/demo-images/donation.png"}],[r]);if(c.useEffect(()=>f?([{id:"restaurant",audioUrl:"/seavoice-recordings/Restaurant-reservation-booking.m4a"},{id:"insurance",audioUrl:"/seavoice-recordings/Insurance-verification-call.m4a"},{id:"tech-support",audioUrl:"/seavoice-recordings/Tech-support.m4a"},{id:"sales-lead",audioUrl:"/seavoice-recordings/Sales-lead-qualification.m4a"},{id:"realestate",audioUrl:"/seavoice-recordings/Real-estate-inquiry-handling.m4a"},{id:"donation",audioUrl:"/seavoice-recordings/Donation-campaign-outreach.m4a"}].forEach(e=>{if(!d.current[e.id]){const t=new Audio;t.preload="auto",t.src=e.audioUrl,d.current[e.id]=t,t.addEventListener("loadedmetadata",()=>{N(o=>({...o,[e.id]:t.duration}))}),t.addEventListener("timeupdate",()=>{t.duration&&x(o=>({...o,[e.id]:t.currentTime/t.duration*100}))}),t.addEventListener("ended",()=>{n(null),x(o=>({...o,[e.id]:0}))}),t.addEventListener("error",o=>{const s=o.target.error;console.error(`Audio error for ${e.id}:`,{code:s?.code,message:s?.message,src:t.src,networkState:t.networkState,readyState:t.readyState}),n(null)}),t.load()}}),()=>{Object.values(d.current).forEach(e=>{e.pause()})}):void 0,[f]),!f)return a.jsx("div",{className:"w-full animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,e)=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 pb-2",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3"}),a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full"})]})]}),a.jsx("div",{className:"h-40 bg-gray-200"})]},e))})});const T=i=>{const e=d.current[i];if(!e){console.error(`No audio element found for ${i}`);return}const o={restaurant:"/seavoice-recordings/Restaurant-reservation-booking.m4a",insurance:"/seavoice-recordings/Insurance-verification-call.m4a","tech-support":"/seavoice-recordings/Tech-support.m4a","sales-lead":"/seavoice-recordings/Sales-lead-qualification.m4a",realestate:"/seavoice-recordings/Real-estate-inquiry-handling.m4a",donation:"/seavoice-recordings/Donation-campaign-outreach.m4a"}[i];if(e.src.endsWith(o)||(e.src=o,e.load()),l===i)e.pause(),n(null);else{let u=function(){e.currentTime=0;const s=e.play();s!==void 0?s.then(()=>{n(i)}).catch(p=>{console.error(`Audio play failed for ${i}:`,p),p.name==="NotAllowedError"?alert("Please click the play button again. Browser requires user interaction to play audio."):p.name==="NotSupportedError"&&alert("Audio format not supported by your browser."),n(null)}):n(i)};if(l){const s=d.current[l];s&&(s.pause(),s.currentTime=0)}if(e.readyState<2){e.load();const s=()=>{e.removeEventListener("canplay",s),u()};e.addEventListener("canplay",s),setTimeout(()=>{e.removeEventListener("canplay",s)},5e3)}else u()}},A=(i,e)=>{const t=d.current[e];if(!t||!v[e])return;const u=i.currentTarget.getBoundingClientRect(),s=i.clientX-u.left,p=u.width,E=s/p*v[e];if(t.currentTime=Math.max(0,Math.min(E,v[e])),x(h=>({...h,[e]:t.currentTime/v[e]*100})),l!==e){if(l){const g=d.current[l];g&&(g.pause(),g.currentTime=0)}const h=t.play();h!==void 0?h.then(()=>{n(e)}).catch(g=>{console.warn(`Audio play failed for ${e} (progress click):`,g),n(null)}):n(e)}};return a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map((i,e)=>a.jsxs(m.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},viewport:{once:!0},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[a.jsxs("div",{className:"p-4 pb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:i.title}),a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(i.id),className:"flex items-center justify-center w-10 h-10 bg-purple-600 hover:bg-purple-700 rounded-full transition-colors",children:l===i.id?a.jsx(P,{className:"w-5 h-5 text-white"}):a.jsx(R,{className:"w-5 h-5 text-white ml-0.5"})}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden cursor-pointer hover:h-3 transition-all duration-200",onClick:t=>A(t,i.id),title:r("seavoice.components.voiceDemo.seekTooltip","Click to seek"),children:a.jsx(m.div,{className:"h-full bg-purple-600 rounded-full pointer-events-none",initial:{width:"0%"},animate:{width:`${D[i.id]||0}%`},transition:{duration:.1,ease:"linear"}})})]})]}),a.jsxs("div",{className:"relative h-40 overflow-hidden",children:[a.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),l===i.id&&a.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-purple-600/20 flex items-center justify-center",children:a.jsx(m.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-16 h-16 bg-white/90 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"flex space-x-1",children:[...Array(3)].map((t,o)=>a.jsx(m.div,{className:"w-1 h-4 bg-purple-600 rounded-full",animate:{height:[16,8,16]},transition:{duration:.8,repeat:1/0,delay:o*.2}},o))})})})]})]},i.id))})})};export{V as default};
